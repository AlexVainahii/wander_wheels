{"ast":null,"code":"import _slicedToArray from\"C:/vscode/wander_wheels/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useDispatch,useSelector}from\"react-redux\";import{selectCars,selectFavorites,selectFilter}from\"../../redux/selectors\";import{addFavorite,deleteFavorite}from\"../../redux/favorites/favoritesSlice\";import FilterForm from\"../FilterForm/FilterForm\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CarsList=function CarsList(){var dispatch=useDispatch();var cars=useSelector(selectCars);var favoriteCars=useSelector(selectFavorites);var filterObject=useSelector(selectFilter);var _useState=useState(cars),_useState2=_slicedToArray(_useState,2),filteredCars=_useState2[0],setFilteredCars=_useState2[1];var toggleFavorite=function toggleFavorite(id){favoriteCars.includes(id)?dispatch(deleteFavorite(id)):dispatch(addFavorite(id));};useEffect(function(){var newFilteredCars=cars.filter(function(car){for(var key in filterObject){if(key===\"rentalPrice\"&&filterObject[key]!==\"\"){if(Number(car[key].replace(\"$\",\"\"))>filterObject[key]){return false;}}else if(key===\"minMileAge\"&&filterObject[key]!==\"\"){if(Number(car[\"mileage\"])<filterObject[key]){return false;}}else if(key===\"maxMileAge\"&&filterObject[key]!==\"\"){if(Number(car[\"mileage\"])>filterObject[key]){return false;}}else if(filterObject[key]!==\"\"&&filterObject[key]!==car[key]){return false;}}return true;});setFilteredCars(newFilteredCars);},[filterObject,cars]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FilterForm,{cars:cars}),filteredCars.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No cars\"}):/*#__PURE__*/_jsx(\"ul\",{children:filteredCars.map(function(car){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[car.make,\" : \",car.model]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return toggleFavorite(car.id);},children:favoriteCars.includes(car.id)?\"-\":\"+\"})]},car.id);})})]});};export default CarsList;","map":{"version":3,"names":["useDispatch","useSelector","selectCars","selectFavorites","selectFilter","addFavorite","deleteFavorite","FilterForm","useEffect","useState","jsx","_jsx","jsxs","_jsxs","CarsList","dispatch","cars","favoriteCars","filterObject","_useState","_useState2","_slicedToArray","filteredCars","setFilteredCars","toggleFavorite","id","includes","newFilteredCars","filter","car","key","Number","replace","children","length","map","make","model","onClick"],"sources":["C:/vscode/wander_wheels/src/components/CarsList/CarList.jsx"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  selectCars,\r\n  selectFavorites,\r\n  selectFilter,\r\n} from \"../../redux/selectors\";\r\nimport {\r\n  addFavorite,\r\n  deleteFavorite,\r\n} from \"../../redux/favorites/favoritesSlice\";\r\nimport FilterForm from \"../FilterForm/FilterForm\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst CarsList = () => {\r\n  const dispatch = useDispatch();\r\n  const cars = useSelector(selectCars);\r\n  const favoriteCars = useSelector(selectFavorites);\r\n  const filterObject = useSelector(selectFilter);\r\n  const [filteredCars, setFilteredCars] = useState(cars);\r\n  const toggleFavorite = (id) => {\r\n    favoriteCars.includes(id)\r\n      ? dispatch(deleteFavorite(id))\r\n      : dispatch(addFavorite(id));\r\n  };\r\n  useEffect(() => {\r\n    const newFilteredCars = cars.filter((car) => {\r\n      for (const key in filterObject) {\r\n        if (key === \"rentalPrice\" && filterObject[key] !== \"\") {\r\n          if (Number(car[key].replace(\"$\", \"\")) > filterObject[key]) {\r\n            return false;\r\n          }\r\n        } else if (key === \"minMileAge\" && filterObject[key] !== \"\") {\r\n          if (Number(car[\"mileage\"]) < filterObject[key]) {\r\n            return false;\r\n          }\r\n        } else if (key === \"maxMileAge\" && filterObject[key] !== \"\") {\r\n          if (Number(car[\"mileage\"]) > filterObject[key]) {\r\n            return false;\r\n          }\r\n        } else if (filterObject[key] !== \"\" && filterObject[key] !== car[key]) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    });\r\n\r\n    setFilteredCars(newFilteredCars);\r\n  }, [filterObject, cars]);\r\n  return (\r\n    <div>\r\n      <FilterForm cars={cars} />\r\n      {filteredCars.length === 0 ? (\r\n        <p>No cars</p>\r\n      ) : (\r\n        <ul>\r\n          {filteredCars.map((car) => {\r\n            return (\r\n              <li key={car.id}>\r\n                <span>\r\n                  {car.make} : {car.model}\r\n                </span>\r\n                <button onClick={() => toggleFavorite(car.id)}>\r\n                  {favoriteCars.includes(car.id) ? \"-\" : \"+\"}\r\n                </button>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default CarsList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}