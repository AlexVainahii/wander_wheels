{"ast":null,"code":"var _jsxFileName = \"C:\\\\vscode\\\\wander_wheels\\\\src\\\\components\\\\FilterForm\\\\FilterForm.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { changeFilter } from \"../../redux/filter/filterSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialFilters = {\n  make: \"\",\n  rentalPrice: \"\",\n  minMileAge: \"\",\n  maxMileAge: \"\"\n};\nconst initialFocus = {\n  make: false,\n  rentalPrice: false\n};\nconst FilterForm = ({\n  cars\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const [filters, setFilters] = useState({\n    ...initialFilters\n  });\n  const [uniqueCars, setUniqueCars] = useState([]);\n  const [minMaxPrice, setMinMaxPrice] = useState({});\n  const [isFocused, setIsFocused] = useState({\n    ...initialFocus\n  });\n  const [minMaxMileAge, setMinMaxMileAge] = useState({});\n  useEffect(() => {\n    const uniqueCarsWithCount = (arr, field) => {\n      const counts = {};\n      arr.forEach(car => {\n        const value = car[field];\n        if (!counts[value]) {\n          counts[value] = 0;\n        }\n        let matchesFilter = true;\n        for (const key in filters) {\n          if (key !== \"make\" && filters[key] !== \"\") {\n            if (key === \"rentalPrice\") {\n              if (Number(car[key].replace(\"$\", \"\")) > filters[key]) {\n                matchesFilter = false;\n              }\n            } else if (key === \"minMileAge\") {\n              if (Number(car[\"mileage\"]) < filters[key]) {\n                matchesFilter = false;\n              }\n            } else if (key === \"maxMileAge\") {\n              if (Number(car[\"mileage\"]) > filters[key]) {\n                matchesFilter = false;\n              }\n            } else if (filters[key] !== car[key]) {\n              matchesFilter = false;\n            }\n          }\n        }\n        if (matchesFilter) {\n          counts[value]++;\n        }\n      });\n      const result = Object.entries(counts).map(([value, count]) => ({\n        [field]: value,\n        count\n      }));\n      return result.sort((a, b) => a[field].localeCompare(b[field]));\n    };\n    const uniqueCarsData = uniqueCarsWithCount(cars, \"make\");\n    const minMaxPriceData = findMinMaxByField(cars, \"rentalPrice\");\n    const minMaxMileAgeData = findMinMaxByField(cars, \"mileage\");\n    setUniqueCars(uniqueCarsData);\n    setMinMaxPrice(minMaxPriceData);\n    setMinMaxMileAge(minMaxMileAgeData);\n  }, [cars, filters]);\n  const handleSelectChange = event => {\n    let {\n      id,\n      value\n    } = event.target;\n    if (id === \"make\") {\n      setIsFocused(prevFocused => ({\n        ...prevFocused,\n        [id]: value !== \"\"\n      }));\n    } else if (id === \"rentalPrice\") {\n      setIsFocused(prevFocused => ({\n        ...prevFocused,\n        [id]: value !== \"\"\n      }));\n    } else if (id === \"minMileAge\" || id === \"maxMileAge\") {\n      const numbers = value.match(/\\d+/g);\n      if (numbers) {\n        value = numbers.join(\"\");\n      } else {\n        value = \"\";\n      }\n\n      // Додамо перевірку для minMileAge і maxMileAge.\n      if (id === \"minMileAge\") {\n        if (filters.maxMileAge !== \"\" && value !== \"\" && parseInt(value) >= parseInt(filters.maxMileAge)) {\n          // Якщо minMileAge більше або дорівнює maxMileAge, обнуляємо maxMileAge.\n          setFilters(prevFilters => ({\n            ...prevFilters,\n            [id]: value,\n            maxMileAge: \"\"\n          }));\n        } else {\n          setFilters(prevFilters => ({\n            ...prevFilters,\n            [id]: value\n          }));\n        }\n      } else if (id === \"maxMileAge\") {\n        if (filters.minMileAge !== \"\" && value !== \"\" && parseInt(value) <= parseInt(filters.minMileAge)) {\n          // Якщо maxMileAge менше або дорівнює minMileAge, обнуляємо minMileAge.\n          setFilters(prevFilters => ({\n            ...prevFilters,\n            [id]: value,\n            minMileAge: \"\"\n          }));\n        } else {\n          setFilters(prevFilters => ({\n            ...prevFilters,\n            [id]: value\n          }));\n        }\n      }\n    }\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    dispatch(changeFilter(filters));\n  };\n  const resetSubmit = () => {\n    setFilters({\n      ...initialFilters\n    });\n    dispatch(changeFilter({}));\n  };\n  const findMinMaxByField = (arr, field) => {\n    if (arr.length === 0) {\n      return {\n        min: undefined,\n        max: undefined\n      };\n    }\n    return arr.reduce((result, item) => {\n      let value = 0;\n      if (field === \"rentalPrice\") {\n        value = Number(item[field].replace(\"$\", \"\"));\n      } else value = item[field];\n      if (value < result.min || result.min === undefined) {\n        result.min = value;\n      }\n      if (value > result.max || result.max === undefined) {\n        result.max = value;\n      }\n      return result;\n    }, {});\n  };\n  const formatMileAge = num => {\n    const numString = num.toString();\n    if (numString.length <= 3) {\n      return numString;\n    }\n    const parts = [];\n    for (let i = numString.length - 1, j = 1; i >= 0; i--, j++) {\n      parts.unshift(numString[i]);\n      if (j % 3 === 0 && i !== 0) {\n        parts.unshift(\",\");\n      }\n    }\n    return parts.join(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"make\",\n          children: \"Car brand\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"make\",\n          value: filters.make,\n          onChange: handleSelectChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: isFocused.make ? \"All Cars\" : \"Enter the text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), uniqueCars.map(car => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: car.make,\n            disabled: car.count === 0 ? true : false,\n            children: car.count === 0 ? car.make : `${car.make} (${car.count})`\n          }, car.make, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"rentalPrice\",\n          children: \"Price/ 1 hour \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"rentalPrice\",\n          value: filters.rentalPrice,\n          onChange: handleSelectChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: [\" \", isFocused.rentalPrice ? \"All Price\" : \"Enter the text\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), Array.from({\n            length: (minMaxPrice.max - minMaxPrice.min) / 10 + 1\n          }, (_, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: minMaxPrice.min + index * 10,\n            children: minMaxPrice.min + index * 10\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"minMileAge\",\n          children: \"From \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"minMileAge\",\n          value: formatMileAge(filters.minMileAge),\n          onChange: handleSelectChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"maxMileAge\",\n          children: \"To \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"maxMileAge\",\n          value: formatMileAge(filters.maxMileAge),\n          onChange: handleSelectChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"onSubmit\",\n        onClick: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        width: \"20px\",\n        height: \"20px\"\n      },\n      onClick: resetSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n};\n_s(FilterForm, \"FtFxy9D1wlC+XFFcUm3Ui23sR9A=\", false, function () {\n  return [useDispatch];\n});\n_c = FilterForm;\nexport default FilterForm;\nvar _c;\n$RefreshReg$(_c, \"FilterForm\");","map":{"version":3,"names":["useEffect","useState","useDispatch","changeFilter","jsxDEV","_jsxDEV","initialFilters","make","rentalPrice","minMileAge","maxMileAge","initialFocus","FilterForm","cars","_s","dispatch","filters","setFilters","uniqueCars","setUniqueCars","minMaxPrice","setMinMaxPrice","isFocused","setIsFocused","minMaxMileAge","setMinMaxMileAge","uniqueCarsWithCount","arr","field","counts","forEach","car","value","matchesFilter","key","Number","replace","result","Object","entries","map","count","sort","a","b","localeCompare","uniqueCarsData","minMaxPriceData","findMinMaxByField","minMaxMileAgeData","handleSelectChange","event","id","target","prevFocused","numbers","match","join","parseInt","prevFilters","handleSubmit","preventDefault","resetSubmit","length","min","undefined","max","reduce","item","formatMileAge","num","numString","toString","parts","i","j","unshift","children","style","display","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","onChange","disabled","Array","from","_","index","type","onClick","width","height","_c","$RefreshReg$"],"sources":["C:/vscode/wander_wheels/src/components/FilterForm/FilterForm.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { changeFilter } from \"../../redux/filter/filterSlice\";\r\nconst initialFilters = {\r\n  make: \"\",\r\n  rentalPrice: \"\",\r\n  minMileAge: \"\",\r\n  maxMileAge: \"\",\r\n};\r\nconst initialFocus = {\r\n  make: false,\r\n  rentalPrice: false,\r\n};\r\nconst FilterForm = ({ cars }) => {\r\n  const dispatch = useDispatch();\r\n  const [filters, setFilters] = useState({ ...initialFilters });\r\n  const [uniqueCars, setUniqueCars] = useState([]);\r\n  const [minMaxPrice, setMinMaxPrice] = useState({});\r\n  const [isFocused, setIsFocused] = useState({ ...initialFocus });\r\n\r\n  const [minMaxMileAge, setMinMaxMileAge] = useState({});\r\n  useEffect(() => {\r\n    const uniqueCarsWithCount = (arr, field) => {\r\n      const counts = {};\r\n\r\n      arr.forEach((car) => {\r\n        const value = car[field];\r\n\r\n        if (!counts[value]) {\r\n          counts[value] = 0;\r\n        }\r\n\r\n        let matchesFilter = true;\r\n\r\n        for (const key in filters) {\r\n          if (key !== \"make\" && filters[key] !== \"\") {\r\n            if (key === \"rentalPrice\") {\r\n              if (Number(car[key].replace(\"$\", \"\")) > filters[key]) {\r\n                matchesFilter = false;\r\n              }\r\n            } else if (key === \"minMileAge\") {\r\n              if (Number(car[\"mileage\"]) < filters[key]) {\r\n                matchesFilter = false;\r\n              }\r\n            } else if (key === \"maxMileAge\") {\r\n              if (Number(car[\"mileage\"]) > filters[key]) {\r\n                matchesFilter = false;\r\n              }\r\n            } else if (filters[key] !== car[key]) {\r\n              matchesFilter = false;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (matchesFilter) {\r\n          counts[value]++;\r\n        }\r\n      });\r\n\r\n      const result = Object.entries(counts).map(([value, count]) => ({\r\n        [field]: value,\r\n        count,\r\n      }));\r\n\r\n      return result.sort((a, b) => a[field].localeCompare(b[field]));\r\n    };\r\n    const uniqueCarsData = uniqueCarsWithCount(cars, \"make\");\r\n    const minMaxPriceData = findMinMaxByField(cars, \"rentalPrice\");\r\n    const minMaxMileAgeData = findMinMaxByField(cars, \"mileage\");\r\n    setUniqueCars(uniqueCarsData);\r\n    setMinMaxPrice(minMaxPriceData);\r\n    setMinMaxMileAge(minMaxMileAgeData);\r\n  }, [cars, filters]);\r\n\r\n  const handleSelectChange = (event) => {\r\n    let { id, value } = event.target;\r\n\r\n    if (id === \"make\") {\r\n      setIsFocused((prevFocused) => ({\r\n        ...prevFocused,\r\n        [id]: value !== \"\",\r\n      }));\r\n    } else if (id === \"rentalPrice\") {\r\n      setIsFocused((prevFocused) => ({\r\n        ...prevFocused,\r\n        [id]: value !== \"\",\r\n      }));\r\n    } else if (id === \"minMileAge\" || id === \"maxMileAge\") {\r\n      const numbers = value.match(/\\d+/g);\r\n\r\n      if (numbers) {\r\n        value = numbers.join(\"\");\r\n      } else {\r\n        value = \"\";\r\n      }\r\n\r\n      // Додамо перевірку для minMileAge і maxMileAge.\r\n      if (id === \"minMileAge\") {\r\n        if (\r\n          filters.maxMileAge !== \"\" &&\r\n          value !== \"\" &&\r\n          parseInt(value) >= parseInt(filters.maxMileAge)\r\n        ) {\r\n          // Якщо minMileAge більше або дорівнює maxMileAge, обнуляємо maxMileAge.\r\n          setFilters((prevFilters) => ({\r\n            ...prevFilters,\r\n            [id]: value,\r\n            maxMileAge: \"\",\r\n          }));\r\n        } else {\r\n          setFilters((prevFilters) => ({\r\n            ...prevFilters,\r\n            [id]: value,\r\n          }));\r\n        }\r\n      } else if (id === \"maxMileAge\") {\r\n        if (\r\n          filters.minMileAge !== \"\" &&\r\n          value !== \"\" &&\r\n          parseInt(value) <= parseInt(filters.minMileAge)\r\n        ) {\r\n          // Якщо maxMileAge менше або дорівнює minMileAge, обнуляємо minMileAge.\r\n          setFilters((prevFilters) => ({\r\n            ...prevFilters,\r\n            [id]: value,\r\n            minMileAge: \"\",\r\n          }));\r\n        } else {\r\n          setFilters((prevFilters) => ({\r\n            ...prevFilters,\r\n            [id]: value,\r\n          }));\r\n        }\r\n      }\r\n    }\r\n  };\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    dispatch(changeFilter(filters));\r\n  };\r\n  const resetSubmit = () => {\r\n    setFilters({ ...initialFilters });\r\n    dispatch(changeFilter({}));\r\n  };\r\n\r\n  const findMinMaxByField = (arr, field) => {\r\n    if (arr.length === 0) {\r\n      return { min: undefined, max: undefined };\r\n    }\r\n\r\n    return arr.reduce((result, item) => {\r\n      let value = 0;\r\n      if (field === \"rentalPrice\") {\r\n        value = Number(item[field].replace(\"$\", \"\"));\r\n      } else value = item[field];\r\n      if (value < result.min || result.min === undefined) {\r\n        result.min = value;\r\n      }\r\n\r\n      if (value > result.max || result.max === undefined) {\r\n        result.max = value;\r\n      }\r\n\r\n      return result;\r\n    }, {});\r\n  };\r\n  const formatMileAge = (num) => {\r\n    const numString = num.toString();\r\n    if (numString.length <= 3) {\r\n      return numString;\r\n    }\r\n\r\n    const parts = [];\r\n    for (let i = numString.length - 1, j = 1; i >= 0; i--, j++) {\r\n      parts.unshift(numString[i]);\r\n      if (j % 3 === 0 && i !== 0) {\r\n        parts.unshift(\",\");\r\n      }\r\n    }\r\n\r\n    return parts.join(\"\");\r\n  };\r\n  return (\r\n    <div>\r\n      <form style={{ display: \"flex\" }}>\r\n        <div>\r\n          <label htmlFor=\"make\">Car brand</label>\r\n          <select id=\"make\" value={filters.make} onChange={handleSelectChange}>\r\n            <option value=\"\">\r\n              {isFocused.make ? \"All Cars\" : \"Enter the text\"}\r\n            </option>\r\n            {uniqueCars.map((car) => (\r\n              <option\r\n                key={car.make}\r\n                value={car.make}\r\n                disabled={car.count === 0 ? true : false}\r\n              >\r\n                {car.count === 0 ? car.make : `${car.make} (${car.count})`}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"rentalPrice\">Price/ 1 hour </label>\r\n          <select\r\n            id=\"rentalPrice\"\r\n            value={filters.rentalPrice}\r\n            onChange={handleSelectChange}\r\n          >\r\n            <option value=\"\">\r\n              {\" \"}\r\n              {isFocused.rentalPrice ? \"All Price\" : \"Enter the text\"}\r\n            </option>\r\n            {Array.from(\r\n              { length: (minMaxPrice.max - minMaxPrice.min) / 10 + 1 },\r\n              (_, index) => (\r\n                <option key={index} value={minMaxPrice.min + index * 10}>\r\n                  {minMaxPrice.min + index * 10}\r\n                </option>\r\n              )\r\n            )}\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"minMileAge\">From </label>\r\n          <input\r\n            id=\"minMileAge\"\r\n            value={formatMileAge(filters.minMileAge)}\r\n            onChange={handleSelectChange}\r\n          ></input>\r\n          <label htmlFor=\"maxMileAge\">To </label>\r\n          <input\r\n            id=\"maxMileAge\"\r\n            value={formatMileAge(filters.maxMileAge)}\r\n            onChange={handleSelectChange}\r\n          ></input>\r\n        </div>\r\n\r\n        <button type=\"onSubmit\" onClick={handleSubmit} />\r\n      </form>\r\n      <button style={{ width: \"20px\", height: \"20px\" }} onClick={resetSubmit} />\r\n    </div>\r\n  );\r\n};\r\nexport default FilterForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}